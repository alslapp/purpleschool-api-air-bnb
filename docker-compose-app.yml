services:

  top-api-air-bnb-app:
    build:
      context: .
      dockerfile: ./apps/app/Dockerfile
    image: top-api-air-bnb-app:latest
    # image: ghcr.io/alslapp/purpleschool-api-air-bnb:main
    container_name: top-api-air-bnb
    restart: always
    env_file:
      - ./apps/app/.env
      - ./apps/app/.env.prod
    ports:
      - 3338:3338
    volumes:
      - ./.volumes/uploads:/opt/app/uploads/

  top-api-air-bnb-telegram:
    build:
      context: .
      dockerfile: ./apps/telegram/Dockerfile
    image: top-api-air-bnb-telegram:latest
    container_name: top-api-air-bnb-telegram
    restart: always
    env_file:
      - ./apps/telegram/.env
      - ./apps/telegram/.env.prod
